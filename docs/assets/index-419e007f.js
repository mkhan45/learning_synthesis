(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function W(){}function he(e){return e()}function le(){return Object.create(null)}function S(e){e.forEach(he)}function pe(e){return typeof e=="function"}function ge(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function _e(e){return Object.keys(e).length===0}function i(e,t){e.appendChild(t)}function U(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function re(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function q(e){return document.createTextNode(e)}function k(){return q(" ")}function O(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function x(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function be(e){return Array.from(e.childNodes)}function ye(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=t??""}function ie(e,t,n,o){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}let Z;function M(e){Z=e}const H=[],se=[],z=[],ue=[],we=Promise.resolve();let V=!1;function ke(){V||(V=!0,we.then(de))}function X(e){z.push(e)}const Q=new Set;let C=0;function de(){if(C!==0)return;const e=Z;do{try{for(;C<H.length;){const t=H[C];C++,M(t),ve(t.$$)}}catch(t){throw H.length=0,C=0,t}for(M(null),H.length=0,C=0;se.length;)se.pop()();for(let t=0;t<z.length;t+=1){const n=z[t];Q.has(n)||(Q.add(n),n())}z.length=0}while(H.length);for(;ue.length;)ue.pop()();V=!1,Q.clear(),M(e)}function ve(e){if(e.fragment!==null){e.update(),S(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const xe=new Set;function $e(e,t){e&&e.i&&(xe.delete(e),e.i(t))}function Ae(e,t,n,o){const{fragment:l,after_update:c}=e.$$;l&&l.m(t,n),o||X(()=>{const s=e.$$.on_mount.map(he).filter(pe);e.$$.on_destroy?e.$$.on_destroy.push(...s):S(s),e.$$.on_mount=[]}),c.forEach(X)}function Ee(e,t){const n=e.$$;n.fragment!==null&&(S(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Le(e,t){e.$$.dirty[0]===-1&&(H.push(e),ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Pe(e,t,n,o,l,c,s,d=[-1]){const g=Z;M(e);const f=e.$$={fragment:null,ctx:[],props:c,update:W,not_equal:l,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(g?g.$$.context:[])),callbacks:le(),dirty:d,skip_bound:!1,root:t.target||g.$$.root};s&&s(f.root);let v=!1;if(f.ctx=n?n(e,t.props||{},(b,m,...h)=>{const _=h.length?h[0]:m;return f.ctx&&l(f.ctx[b],f.ctx[b]=_)&&(!f.skip_bound&&f.bound[b]&&f.bound[b](_),v&&Le(e,b)),m}):[],f.update(),v=!0,S(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const b=be(t.target);f.fragment&&f.fragment.l(b),b.forEach(j)}else f.fragment&&f.fragment.c();t.intro&&$e(e.$$.fragment),Ae(e,t.target,t.anchor,t.customElement),de()}M(g)}class Ne{$destroy(){Ee(this,1),this.$destroy=W}$on(t,n){if(!pe(n))return W;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!_e(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[{name:"URLs",io:[{in:"http://www.example.com",out:"example"},{in:"https://www.apple.com/uk/mac",out:"apple"},{in:"https://www.google.com",out:null},{in:"www.mikail-khan.com",out:null}]},{name:"Abbreviations",io:[{in:"First Last",out:"F.L."},{in:"Hi Aref",out:"H.A."},{in:"Bed Time",out:null},{in:"Another Name",out:null},{in:"Bhavesh Pareek",out:null},{in:"Saad Sharief",out:null}]},{name:"Numbers",io:[{in:"I have 17 cookies",out:"17"},{in:"Give me at least 3 cookies",out:"3"},{in:"This number is 489",out:"489"},{in:"A string with the number 54234564 in the middle",out:null},{in:"36",out:null},{in:"Another 456432 string",out:""}]},{name:"Hello",io:[{in:"Hello",out:"Hello World"},{in:"Goodbye",out:"Goodbye World"},{in:"The",out:null},{in:"Uhhh",out:null}]},{name:"Remove Between",io:[{in:"short /no/ line",out:"short  line"},{in:"aa/ /aa",out:"aaaa"},{in:"this breaks /down when longer/ outputs are given",out:null},{in:"/but of course/ it can run on longer test inputs",out:null}]}];function ce(e,t,n){const o=e.slice();return o[9]=t[n].name,o[10]=t[n].io,o}function ae(e,t,n){const o=e.slice();return o[13]=t[n].in,o[14]=t[n].out,o[15]=t,o[16]=n,o}function fe(e){let t,n,o,l,c,s,d,g,f,v;function b(){e[6].call(o,e[15],e[16])}function m(){e[7].call(s,e[15],e[16])}return{c(){t=p("tr"),n=p("td"),o=p("input"),l=k(),c=p("td"),s=p("input"),d=k(),g=p("tr"),x(o,"type","text"),x(o,"class","svelte-yagbmm"),x(s,"type","text"),x(s,"class","svelte-yagbmm")},m(h,_){U(h,t,_),i(t,n),i(n,o),R(o,e[13]),i(t,l),i(t,c),i(c,s),R(s,e[14]),i(t,d),U(h,g,_),f||(v=[O(o,"input",b),O(s,"input",m)],f=!0)},p(h,_){e=h,_&1&&o.value!==e[13]&&R(o,e[13]),_&1&&s.value!==e[14]&&R(s,e[14])},d(h){h&&j(t),h&&j(g),f=!1,S(v)}}}function me(e){let t,n=e[9]+"",o,l,c;function s(){return e[8](e[10])}return{c(){t=p("button"),o=q(n),x(t,"class","svelte-yagbmm")},m(d,g){U(d,t,g),i(t,o),l||(c=O(t,"click",s),l=!0)},p(d,g){e=d},d(d){d&&j(t),l=!1,c()}}}function Te(e){let t,n,o,l,c,s,d,g,f,v,b,m,h,_,A,E,L,a,P,B,ee,K,D,te,G,ne,I,J,oe,N=e[0],y=[];for(let u=0;u<N.length;u+=1)y[u]=fe(ae(e,N,u));let T=Y,w=[];for(let u=0;u<T.length;u+=1)w[u]=me(ce(e,T,u));return{c(){t=p("main"),n=p("h1"),n.textContent="FlashFill--",o=k(),l=p("div"),l.innerHTML='<a href="https://github.com/mkhan45/learning_synthesis">GitHub</a>',c=k(),s=p("table"),d=p("tr"),d.innerHTML=`<th>Input</th> 
            <th>Output</th>`,g=k();for(let u=0;u<y.length;u+=1)y[u].c();f=k(),v=p("button"),v.textContent="-",b=k(),m=p("button"),m.textContent="+",h=k(),_=p("pre"),A=q("Program: "),E=q(e[1]),L=k(),a=p("button"),a.textContent="Run",P=k(),B=p("h2"),B.textContent="Examples",ee=k();for(let u=0;u<w.length;u+=1)w[u].c();K=k(),D=p("h2"),D.textContent="Info",te=k(),G=p("p"),G.textContent=`The synthesizer is written in Rust and compiled to WebAssembly, and it
        runs in a Web Worker with a timeout of 15 seconds. Because of that,
        some of the examples might work on your laptop but not on your phone.
        All of these examples work on my laptop, but numbers and remove between
        take a few seconds.`,ne=k(),I=p("p"),I.innerHTML=`For more info, check <a href="https://github.com/mkhan45/learning_synthesis">the GitHub repo</a>.
        This site uses the algorithm in <code class="svelte-yagbmm">src/enumerative/top_down.rs</code>.`,ie(n,"margin-bottom","0.1em"),ie(l,"margin-bottom","1em"),x(s,"class","svelte-yagbmm"),x(v,"class","svelte-yagbmm"),x(m,"class","svelte-yagbmm"),x(_,"class","program-box svelte-yagbmm"),x(a,"class","svelte-yagbmm"),x(G,"class","svelte-yagbmm"),x(I,"class","svelte-yagbmm")},m(u,$){U(u,t,$),i(t,n),i(t,o),i(t,l),i(t,c),i(t,s),i(s,d),i(s,g);for(let r=0;r<y.length;r+=1)y[r].m(s,null);i(t,f),i(t,v),i(t,b),i(t,m),i(t,h),i(t,_),i(_,A),i(_,E),i(t,L),i(t,a),i(t,P),i(t,B),i(t,ee);for(let r=0;r<w.length;r+=1)w[r].m(t,null);i(t,K),i(t,D),i(t,te),i(t,G),i(t,ne),i(t,I),J||(oe=[O(v,"click",e[2]),O(m,"click",e[3]),O(a,"click",e[5])],J=!0)},p(u,[$]){if($&1){N=u[0];let r;for(r=0;r<N.length;r+=1){const F=ae(u,N,r);y[r]?y[r].p(F,$):(y[r]=fe(F),y[r].c(),y[r].m(s,null))}for(;r<y.length;r+=1)y[r].d(1);y.length=N.length}if($&2&&ye(E,u[1]),$&16){T=Y;let r;for(r=0;r<T.length;r+=1){const F=ce(u,T,r);w[r]?w[r].p(F,$):(w[r]=me(F),w[r].c(),w[r].m(t,K))}for(;r<w.length;r+=1)w[r].d(1);w.length=T.length}},i:W,o:W,d(u){u&&j(t),re(y,u),re(w,u),J=!1,S(oe)}}}function Ce(e,t,n){let o=[{in:"",out:null}],l="None";function c(){n(0,o=o.slice(0,-1))}function s(){n(0,o=[...o,{in:"",out:null}])}function d(m){n(1,l="None"),n(0,o=m)}async function g(){n(1,l="Synthesizing...");let m=o.filter(a=>a.out!=null&&a.out!="").map(a=>a.in),h=o.filter(a=>a.out!=null&&a.out!="").map(a=>a.out),_=o.filter(a=>a.in!=null&&a.in!="").map(a=>a.in);console.log(m,h);const A=new Worker("./pkg/synthesizer.js");A.postMessage({inps:m,outs:h,tests:_});let E=!1;const L=await Promise.race([new Promise(a=>A.addEventListener("message",({data:P})=>{E=!0,a(P)},{once:!0})),new Promise(a=>{setTimeout(()=>{E||(console.log("timeout"),a({error:!0}))},15e3)})]);if(A.terminate(),L.error)console.log("error :("),n(1,l="error :(");else{n(1,l=L.get("program"));let a=L.get("test_results");console.log(a),n(0,o=o.map((P,B)=>({in:P.in,out:a[B]})))}}d(Y[1].io);function f(m,h){m[h].in=this.value,n(0,o)}function v(m,h){m[h].out=this.value,n(0,o)}return[o,l,c,s,d,g,f,v,m=>d(m)]}class He extends Ne{constructor(t){super(),Pe(this,t,Ce,Te,ge,{})}}new He({target:document.getElementById("app")});
