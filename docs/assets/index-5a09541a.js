(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function M(){}function ut(t){return t()}function X(){return Object.create(null)}function T(t){t.forEach(ut)}function it(t){return typeof t=="function"}function ct(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ft(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function v(){return K(" ")}function S(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function at(t){return Array.from(t.childNodes)}function ht(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function G(t,e){t.value=e??""}function Z(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}let Q;function H(t){Q=t}const C=[],tt=[],R=[],et=[],pt=Promise.resolve();let D=!1;function dt(){D||(D=!0,pt.then(st))}function J(t){R.push(t)}const W=new Set;let O=0;function st(){if(O!==0)return;const t=Q;do{try{for(;O<C.length;){const e=C[O];O++,H(e),mt(e.$$)}}catch(e){throw C.length=0,O=0,e}for(H(null),C.length=0,O=0;tt.length;)tt.pop()();for(let e=0;e<R.length;e+=1){const n=R[e];W.has(n)||(W.add(n),n())}R.length=0}while(C.length);for(;et.length;)et.pop()();D=!1,W.clear(),H(t)}function mt(t){if(t.fragment!==null){t.update(),T(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}const _t=new Set;function gt(t,e){t&&t.i&&(_t.delete(t),t.i(e))}function bt(t,e,n,l){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),l||J(()=>{const u=t.$$.on_mount.map(ut).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...u):T(u),t.$$.on_mount=[]}),s.forEach(J)}function yt(t,e){const n=t.$$;n.fragment!==null&&(T(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(t,e){t.$$.dirty[0]===-1&&(C.push(t),dt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(t,e,n,l,o,s,u,d=[-1]){const _=Q;H(t);const f=t.$$={fragment:null,ctx:[],props:s,update:M,not_equal:o,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(_?_.$$.context:[])),callbacks:X(),dirty:d,skip_bound:!1,root:e.target||_.$$.root};u&&u(f.root);let w=!1;if(f.ctx=n?n(t,e.props||{},(g,k,...a)=>{const p=a.length?a[0]:k;return f.ctx&&o(f.ctx[g],f.ctx[g]=p)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](p),w&&wt(t,g)),k}):[],f.update(),w=!0,T(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const g=at(e.target);f.fragment&&f.fragment.l(g),g.forEach(B)}else f.fragment&&f.fragment.c();e.intro&&gt(t.$$.fragment),bt(t,e.target,e.anchor,e.customElement),st()}H(_)}class vt{$destroy(){yt(this,1),this.$destroy=M}$on(e,n){if(!it(n))return M;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function nt(t,e,n){const l=t.slice();return l[10]=e[n].name,l[11]=e[n].io,l}function lt(t,e,n){const l=t.slice();return l[14]=e[n].in,l[15]=e[n].out,l[16]=e,l[17]=n,l}function ot(t){let e,n,l,o,s,u,d,_,f,w;function g(){t[7].call(l,t[16],t[17])}function k(){t[8].call(u,t[16],t[17])}return{c(){e=m("tr"),n=m("td"),l=m("input"),o=v(),s=m("td"),u=m("input"),d=v(),_=m("tr"),$(l,"type","text"),$(l,"class","svelte-18bugw4"),$(u,"type","text"),$(u,"class","svelte-18bugw4")},m(a,p){q(a,e,p),c(e,n),c(n,l),G(l,t[14]),c(e,o),c(e,s),c(s,u),G(u,t[15]),c(e,d),q(a,_,p),f||(w=[S(l,"input",g),S(u,"input",k)],f=!0)},p(a,p){t=a,p&1&&l.value!==t[14]&&G(l,t[14]),p&1&&u.value!==t[15]&&G(u,t[15])},d(a){a&&B(e),a&&B(_),f=!1,T(w)}}}function rt(t){let e,n=t[10]+"",l,o,s;function u(){return t[9](t[11])}return{c(){e=m("button"),l=K(n),$(e,"class","svelte-18bugw4")},m(d,_){q(d,e,_),c(e,l),o||(s=S(e,"click",u),o=!0)},p(d,_){t=d},d(d){d&&B(e),o=!1,s()}}}function $t(t){let e,n,l,o,s,u,d,_,f,w,g,k,a,p,I,x,j,E,h,A,z,U,V,P=t[0],b=[];for(let i=0;i<P.length;i+=1)b[i]=ot(lt(t,P,i));let N=t[5],y=[];for(let i=0;i<N.length;i+=1)y[i]=rt(nt(t,N,i));return{c(){e=m("main"),n=m("h1"),n.textContent="FlashFill--",l=v(),o=m("div"),o.innerHTML='<a href="https://github.com/mkhan45/learning_synthesis">GitHub</a>',s=v(),u=m("table"),d=m("tr"),d.innerHTML=`<th>Input</th> 
            <th>Output</th>`,_=v();for(let i=0;i<b.length;i+=1)b[i].c();f=v(),w=m("button"),w.textContent="-",g=v(),k=m("button"),k.textContent="+",a=v(),p=m("pre"),I=K("Program: "),x=K(t[1]),j=v(),E=m("button"),E.textContent="Run",h=v(),A=m("h2"),A.textContent="Examples",z=v();for(let i=0;i<y.length;i+=1)y[i].c();Z(n,"margin-bottom","0.1em"),Z(o,"margin-bottom","1em"),$(u,"class","svelte-18bugw4"),$(w,"class","svelte-18bugw4"),$(k,"class","svelte-18bugw4"),$(p,"class","program-box svelte-18bugw4"),$(E,"class","svelte-18bugw4")},m(i,L){q(i,e,L),c(e,n),c(e,l),c(e,o),c(e,s),c(e,u),c(u,d),c(u,_);for(let r=0;r<b.length;r+=1)b[r].m(u,null);c(e,f),c(e,w),c(e,g),c(e,k),c(e,a),c(e,p),c(p,I),c(p,x),c(e,j),c(e,E),c(e,h),c(e,A),c(e,z);for(let r=0;r<y.length;r+=1)y[r].m(e,null);U||(V=[S(w,"click",t[2]),S(k,"click",t[3]),S(E,"click",t[6])],U=!0)},p(i,[L]){if(L&1){P=i[0];let r;for(r=0;r<P.length;r+=1){const F=lt(i,P,r);b[r]?b[r].p(F,L):(b[r]=ot(F),b[r].c(),b[r].m(u,null))}for(;r<b.length;r+=1)b[r].d(1);b.length=P.length}if(L&2&&ht(x,i[1]),L&48){N=i[5];let r;for(r=0;r<N.length;r+=1){const F=nt(i,N,r);y[r]?y[r].p(F,L):(y[r]=rt(F),y[r].c(),y[r].m(e,null))}for(;r<y.length;r+=1)y[r].d(1);y.length=N.length}},i:M,o:M,d(i){i&&B(e),Y(b,i),Y(y,i),U=!1,T(V)}}}function Et(t,e,n){let l=[{in:"",out:null}],o="None";function s(){n(0,l=l.slice(0,-1))}function u(){n(0,l=[...l,{in:"",out:null}])}function d(a){n(0,l=a)}const _=[{name:"URLs",io:[{in:"http://www.example.com",out:"example"},{in:"https://www.apple.com/uk/mac",out:"apple"},{in:"https://www.google.com",out:null},{in:"www.mikail-khan.com",out:null}]},{name:"Abbreviations",io:[{in:"First Last",out:"F.L."},{in:"Hi Aref",out:"H.A."},{in:"Bed Time",out:null},{in:"Another Name",out:null},{in:"Bhavesh Pareek",out:null},{in:"Saad Sharief",out:null}]},{name:"Numbers",io:[{in:"I have 17 cookies",out:"17"},{in:"Give me at least 3 cookies",out:"3"},{in:"This number is 489",out:"489"},{in:"A string with the number 54234564 in the middle",out:null},{in:"36",out:null},{in:"Another 456432 string",out:""}]}];async function f(){n(1,o="Synthesizing...");let a=l.filter(h=>h.out!=null&&h.out!="").map(h=>h.in),p=l.filter(h=>h.out!=null&&h.out!="").map(h=>h.out),I=l.filter(h=>h.in!=null&&h.in!="").map(h=>h.in);console.log(a,p);const x=new Worker("./pkg/synthesizer.js");x.postMessage({inps:a,outs:p,tests:I});let j=!1;const E=await Promise.race([new Promise(h=>x.addEventListener("message",({data:A})=>{j=!0,h(A)},{once:!0})),new Promise(h=>{setTimeout(()=>{j||(console.log("timeout"),h({error:!0}))},15e3)})]);if(x.terminate(),E.error)console.log("error :("),n(1,o="error :(");else{n(1,o=E.get("program"));let h=E.get("test_results");console.log(h),n(0,l=l.map((A,z)=>({in:A.in,out:h[z]})))}}function w(a,p){a[p].in=this.value,n(0,l)}function g(a,p){a[p].out=this.value,n(0,l)}return[l,o,s,u,d,_,f,w,g,a=>d(a)]}class xt extends vt{constructor(e){super(),kt(this,e,Et,$t,ct,{})}}new xt({target:document.getElementById("app")});
